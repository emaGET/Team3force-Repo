<!DOCTYPE html>
<html lang="no">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team 3-Force</title>

    <style>
        body {
            padding: 25px;
            background-color: white;
            color: black;
            font-size: 25px;
        }

        .dark-mode {
            background-color: #11191f;
            color: #e6edf3;
        }

        .card {
            background-color: darkgray;
            color: #fff;
            border: 1px solid black;
            border-radius: 10px;
            width: 250px;
            height:auto;

        }

        .main-cards {
            display: flex; /* grid gj√∏r ingenting n√•r display: flex, den krasjer ikke men overfl√∏dig kode */
            grid-template-columns: 250px, 1fr;
            grid-template-rows: repeat(2, 250px);
            margin: 10px;
            gap: 10px;
        }

        button {
            background-color: #ccc;
            border-radius: 5px;
            width: 200px;
            font-size: 20px;
        }

        select {
            background-color: #ccc;
            border-radius: 5px;
            width: 200px;
            font-size: 20px;
        }

        .title {
            padding: 12px;
            margin-bottom: 12px;
            border-radius: 12px;
            background-color: lightblue;
        }

        .JB {
            color: blue;
            background-color: pink;
            text-align: right;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        .ove {
            color: white;
            background-color: black;
            padding: 20px;
            margin: 20px;
            font-size: 30px;
            border: 2px solid yellow;
            border-radius: 12px;
        }

        .nameHead {

            display: grid;
            grid-template-columns: 1fr auto;
            grid-template-rows: 1fr auto;
        }

        .nameHead button {
            padding: 6px 12px;            
            font-size: 14px;
            height:50px;
            width: 110px;            
        }

        .ove::marker {
            color: black;
        }


        .ema {
            color: green;
            background-color: yellow;
            padding: 2px;
            margin: 2px;
        }

        .sverre {
            color: hotpink;
            background-color: black;
            text-align: center;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        .FIREFOX{
            position: fixed;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, orange, red, transparent);
            border-radius: 30%;
            animation: boom 0.6s ease-in-out forwards;
            pointer-events: none;
            
        }
        @keyframes boom {
            0% {
                transform: scale(0.2);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }

        .fire-text {
            position: fixed;
            top: 40%;
            right: 50%;
            transform: translate(-50%, -50%);
            font-size: 50px;

            font-weight: bold;
            color: red;
            text-shadow: 0 0 10px yellow, 0 0 20px orange;
            animation: fire 1.2s ease-in-out forwards;
            pointer-events: none;

        }

        @keyframes fire {
            0% {
                transform: translateY(-50%, -50%) scale(0.5);
                opacity: 0;
            }
            100% {
                transform: translateY(-50%, -60%) scale(1.3);
        opacity: 0;
            }
        }
    </style>
</head>

<body>

    <div id="app"></div>
    <div id="FireFox"></div> 

    <script>
        let members = ["Emanuele", "Jamal", "Ove", "Sverre"];

        let memberData = {
            ove: ['Se film', 'Snekre', 'Gaming', 'Spille gitar'],
            sverre: ['Bor i b√•stad', 'Liker √• game', 'Se p√• serier'],
            JB: ['liker √• spille fotball', 'Bor i oslo'],
            ema: ['Liker √• game', 'bor i Troms√∏ men kommer fra Italia', 'Liker bordspill']
        };

        function getTitleText() {
            if (members.length === 1) return members[0];
            return members.slice(0, -1).join(", ") + " & " + members.at(-1) + "!";
        }

        function updateTitle() {
            document.getElementById("title").textContent = getTitleText();
        }

        function makeCard(name, nameId, listItems) {
            return ` 
               <div class="card ${nameId}">
                        <div class="nameHead">
                            <h3>${name}</h3>
                            <button onclick="changeColor()">Endre farge</button>
                        </div>
                    <ul>
                        <div>
                        <small><i>Fav. mat:</i> ${getFavouriteFood(name)}</small><br>
                        <small><i>Farge:</i> ${getFavouriteColour(name)}</small><br><br>
                        
                            ${listItems.map(item => `<li>${item}</li>`).join("")}
                        <div id="${nameId}"></div>
                    </ul>
                </div>
            `;
        }



        function toggleDarkMode(button) {
            var element = document.body;
            element.classList.toggle("dark-mode");

            if (button.innerText.includes("‚òÄÔ∏é")) {
                button.innerText = "‚òæ";
            } else {
                button.innerText = "‚òÄÔ∏é"
            }
        }

        function getFavouriteFood(memberName) {
            let html = "";

            if (memberName === "Jamal") {
                html = `üåÆ Tacos`;
            } else if (memberName === "Ove") {
                html = `üç£ Pinnekj√∏tt`;
            } else if (memberName === "Sverre") {
                html = `üçù Pasta`;
            } else if (memberName === "Emmanuele") {
                html = `üçï Pizza`;
            } 

            return html;
        }

        function getFavouriteColour(memberName) {
            let html = "";

            if (memberName === "Jamal") {
                html = `üîµ`;
            } else if (memberName === "Ove") {
                html = `üü°`;
            } else if (memberName === "Sverre") {
                html = `üü£`;
            } else if (memberName === "Ema") {
                html = `üü¢`;
            }

            return html;
        }


        function AddToList(tekst) {

            const valgtListe = document.getElementById("selectId").value;
            document.getElementById(valgtListe).innerHTML += `
            <li>${tekst}</li>`;

            document.getElementById("tekstInput").value = "";
        }

        function findRandomMember() {
            let randomNumber = Math.floor(Math.random() * 4);

            if (randomNumber === 0) {
                valgtMedlem = "Emanuele";
            } else if (randomNumber === 1) {
                valgtMedlem = "Jamal";
            } else if (randomNumber === 2) {
                valgtMedlem = "Ove";
            } else if (randomNumber === 3) {
                valgtMedlem = "Sverre";
            }

            updateView();
        }

        function checkAge(age) {
            if (age < 23) {
                return "Du er for ung!";
            } else {
                return "";
            }
        }


        function updateView() {
            document.getElementById('randomResult').innerText = valgtMedlem;
        }

        function makeCards() {
            return `
                <div class="main-cards" id="cards">
                    ${Object.entries(memberData).map(([id, skills]) =>
                makeCard(
                    id === 'JB' ? 'Jamal' : id.charAt(0).toUpperCase() + id.slice(1),
                    id,
                    skills
                )
            ).join("")}
                </div>
            `;
        }

        function updateScreen() {
            document.getElementById('app').innerHTML = `
                <button onclick="toggleDarkMode(this)"> ‚òÄÔ∏é </button>
                <h1 class="title">Team 3-Force</h1>
                <h2 class="title" id="title">${getTitleText()}</h2>                
                <div>GET Academy 2026</div>
                <input type="text" id="tekstInput" placeholder="Skriv noe">
                <button onclick="AddToList(
                document.getElementById('tekstInput').value)">Legg til</button>

                <select id="selectId">
                    <option value="ove">Ove</option>
                    <option value="JB">Jamal</option>
                    <option value="sverre">Sverre</option>
                    <option value="ema">Emanuele</option>

                </select>
               ${makeCards()}
                <div class="random-box">
                    <h3>La oss legge til noe fint til:</h3>
                    <p id="randomResult" style="font-size: 40px; font-weight: bold;"></p>
                    <button onclick="findRandomMember()">Velg tilfeldig!</button>
                </div>


                <br>
                <hr>
                <h3>Vi trenger alltid mer hjelp, bli med oss!<br></h3>
                <form id="teamAdd">
                    <input type="text" id="memberName" placeholder="Navn">
                    <input type="number" id="memberAge" placeholder="Din alder">
                    <input type="text" id="memberFood" placeholder="Favorittmat">
                    <input type="text" id="memberColor" placeholder="Favorittfarge">
                    <input type="text" id="memberInfo" placeholder="litt info om meg selv"> 

                    <button type="submit">Legge til!</button>
                    
                </form>

                <div id="ageMessage"></div><br>

                <div>N√•v√¶rende medlemmer:</div>
                ${makeMemberList()}
            `;

            document.getElementById('teamAdd').addEventListener('submit', function (extraMember) {

                extraMember.preventDefault();

                const name = document.getElementById('memberName').value;
                const age = document.getElementById('memberAge').value;
                const info = document.getElementById('memberInfo').value;

                const ageMessage = checkAge(age);

                if (ageMessage === "") {

                    const id = name.toLowerCase().replace(/\s+/g, '-');

                    members.push(name);
                    FirecellAnimation();

                    memberData[id] = [ ` Fav. mat ${document.getElementById('memberFood').value}`, ` Fav. farge ${document.getElementById('memberColor').value}`, info ];
                    updateScreen();

                    document.getElementById('memberName').value = '';
                    document.getElementById('memberAge').value = '';
                    document.getElementById('memberFood').value = '';
                    document.getElementById('memberColour').value = '';

                } else {
                    document.getElementById('ageMessage').innerHTML = ageMessage;
                }

            });
        }

        function makeMemberList() {
            return `
                <ul id="teamList">
                    ${members.map(member => `<li>${member}</li>`).join("")}
                </ul>
            `;
        }

        function changeColor() {
            const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16);
            document.body.style.backgroundColor = randomColor;
        }


        function FirecellAnimation() {
          let booms = "";
          for (let i = 0; i <12; i++) {
            booms += `
            <div class="FIREFOX" style="
              left:${Math.random()* 100}%;
              top:${Math.random()* 100}% ;      
              animation-duration: ${0.5 + Math.random()}s 
              "></div>`;
        
          }

          document.getElementById("FireFox").innerHTML = ` <div class="fire"> üî• FIRE FOR THAT üî• </div> ${booms}`;

          setTimeout(() => {
            document.getElementById("FireFox").innerHTML = "";
          }, 1200);
           
        }



        updateScreen();

    </script>

</body>

</html>