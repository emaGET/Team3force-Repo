<!DOCTYPE html>
<html lang="no">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team 3-Force</title>

    <style>
        body {
            padding: 25px;
            background-color: white;
            color: black;
            font-size: 25px;
        }

        .dark-mode {
            background-color: #11191f;
            color: #e6edf3;
        }

        .card {
            background-color: darkgray;
            color: #fff;
            border: 1px solid black;
            border-radius: 10px;
            width: 250px;
            height: 400px;

        }

        .main-cards {
            display: flex;
            grid-template-columns: 250px, 1fr;
            grid-template-rows: repeat(2, 250px);
            margin: 10px;
            gap: 10px;
        }

        button {
            background-color: #ccc;
            border-radius: 5px;
            width: 200px;
            font-size: 20px;
        }

        select {
            background-color: #ccc;
            border-radius: 5px;
            width: 200px;
            font-size: 20px;
        }

        .title {
            padding: 12px;
            margin-bottom: 12px;
            border-radius: 12px;
            background-color: lightblue;
        }

        .JB {
            color: blue;
            background-color: pink;
            text-align: right;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        .ove {
            color: white;
            background-color: black;
            padding: 20px;
            margin: 20px;
            font-size: 30px;
            border: 2px solid yellow;
            border-radius: 12px;
        }

        .ove::marker {
            color: black;
        }


        .ema {
            color: green;
            background-color: yellow;
            padding: 2px;
            margin: 2px;
        }

        .sverre {
            color: hotpink;
            background-color: black;
            text-align: center;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }
    </style>
</head>

<body>

    <div id="app"></div>

    <script>
        let members = ["Emanuele", "Jamal", "Ove", "Sverre"];

        let memberData = {
            ove: ['Se film', 'Snekre', 'Gaming', 'Spille gitar'],
            sverre: ['Bor i b√•stad', 'Liker √• game', 'Se p√• serier'],
            JB: ['liker √• spille fotball', 'Bor i oslo'],
            ema: ['Liker √• game', 'bor i Troms√∏ men kommer fra Italia', 'Liker bordspill']
        };

        function getTitleText() {
            if (members.length === 1) return members[0];
            return members.slice(0, -1).join(", ") + " & " + members.at(-1) + "!";
        }

        function updateTitle() {
            document.getElementById("title").textContent = getTitleText();
        }

        function makeCard(name, nameId, listItems) {
            return ` 
               <div class="card ${nameId}">
                    <ul>
                        <h3>${name} ${getFavouriteFood(name)}</h3>
                            ${listItems.map(item => `<li>${item}</li>`).join("")}
                        <div id="${nameId}"></div>
                    </ul>
                </div>
            `;
        }



        function toggleDarkMode(button) {
            var element = document.body;
            element.classList.toggle("dark-mode");

            if (button.innerText.includes("‚òÄÔ∏é")) {
                button.innerText = "‚òæ";
            } else {
                button.innerText = "‚òÄÔ∏é"
            }
        }

        function getFavouriteFood(memberName) {
            let html = "";
    
            if (memberName === "Jamal") {
                html = `üåÆ`;
            } else if (memberName === "Ove") {
                html = `üç£`;
            } else if (memberName === "Sverre") {
                html = `üçù`;
            } else if (memberName === "Ema") {
                html = `üçï`;
            }
    
            return html;
        }


        function AddToList(tekst) {

            const valgtListe = document.getElementById("selectId").value;
            document.getElementById(valgtListe).innerHTML += `
            <li>${tekst}</li>`;

            document.getElementById("tekstInput").value = "";
        }

        function findRandomMember() {
            let randomNumber = Math.floor(Math.random() * 4);

            if (randomNumber === 0) {
                valgtMedlem = "Emanuele";
            } else if (randomNumber === 1) {
                valgtMedlem = "Jamal";
            } else if (randomNumber === 2) {
                valgtMedlem = "Ove";
            } else if (randomNumber === 3) {
                valgtMedlem = "Sverre";
            }

            updateView();
        }

        function checkAge(age) {
            if (age < 23) {
                return "Du er for ung!";
            } else {
                return "";
            }
        }


        function updateView() {
            document.getElementById('randomResult').innerText = valgtMedlem;
        }

        function makeCards() {
            return `
                <div class="main-cards" id="cards">
                    ${Object.entries(memberData).map(([id, skills]) =>
                makeCard(
                    id === 'JB' ? 'Jamal' : id.charAt(0).toUpperCase() + id.slice(1),
                    id,
                    skills
                )
            ).join("")}
                </div>
            `;
        }

        function updateScreen() {
            document.getElementById('app').innerHTML = `
                <button onclick="toggleDarkMode(this)"> ‚òÄÔ∏é </button>
                <h1 class="title">Team 3-Force</h1>
                <h2 class="title" id="title">${getTitleText()}</h2>                
                <div>GET Academy 2026</div>
                <input type="text" id="tekstInput" placeholder="Skriv noe">
                <button onclick="AddToList(
                document.getElementById('tekstInput').value)">Legg til</button>

                <select id="selectId">
                    <option value="ove">Ove</option>
                    <option value="JB">Jamal</option>
                    <option value="sverre">Sverre</option>
                    <option value="ema">Emanuele</option>

                </select>
               ${makeCards()}
                <div class="random-box">
                    <h3>La oss legge til noe fint til:</h3>
                    <p id="randomResult" style="font-size: 40px; font-weight: bold;"></p>
                    <button onclick="findRandomMember()">Velg tilfeldig!</button>
                </div>


                <br>
                <hr>
                <h3>Vi trenger alltid mer hjelp, bli med oss!<br></h3>
                <form id="teamAdd">
                    <input type="text" id="memberName" placeholder="Navn">
                    <input type="number" id="memberAge" placeholder="Din alder">
                    <button type="submit">Legge til!</button>
                </form>

                <div id="ageMessage"></div><br>

                <div>N√•v√¶rende medlemmer:</div>
                ${makeMemberList()}
            `;

            document.getElementById('teamAdd').addEventListener('submit', function (extraMember) {

                extraMember.preventDefault();

                const name = document.getElementById('memberName').value;
                const age = document.getElementById('memberAge').value;

                const ageMessage = checkAge(age);

                if (ageMessage === "") {

                    const id = name.toLowerCase().replace(/\s+/g, '-');

                    members.push(name);

                    memberData[id] = [];
                    updateScreen();
                    
                    document.getElementById('memberName').value = '';
                    document.getElementById('memberAge').value = '';

                } else {
                    document.getElementById('ageMessage').innerHTML = ageMessage;
                }

            });
        }

        function makeMemberList() {
            return `
                <ul id="teamList">
                    ${members.map(member => `<li>${member}</li>`).join("")}
                </ul>
            `;
        }



        updateScreen();

    </script>

</body>

</html>